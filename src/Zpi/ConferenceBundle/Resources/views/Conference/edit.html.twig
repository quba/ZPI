{% extends '::base.html.twig' %}

{% block stylesheets %}
<link rel="stylesheet" href="{{ asset('jsDatePick_ltr.min.css') }}" type="text/css"  />
{% endblock %}
{% block js %}
<script type="text/javascript" src="{{ asset('jquery-1.6.3.js') }}"></script>
<script type="text/javascript" src="{{ asset('jsDatePick.min.1.3.js') }}"></script>

{% endblock %}

{% block title %}{% trans %}conf.edit.title{% endtrans %}{% endblock %}
{% block bodytitle %}{% trans %}conf.edit.title{% endtrans %}{% endblock %}

{% block body %}
	<form novalidate="novalidate" action="{{ path('conference_edit') }}" method="POST" {{ form_enctype(form) }}>
		{# {{ form_widget(form) }} #}
    {{ form_errors(form) }}
    {{ form_row(form.name) }}
    {{ form_row(form.prefix) }}
    {{ form_row(form.file) }}
    {{ form_row(form.startDate) }}
    {{ form_row(form.endDate) }}
    {{ form_row(form.bookingstartDate) }}
    {{ form_row(form.bookingendDate) }}
    {{ form_row(form.abstractDeadline) }}
    {{ form_row(form.paperDeadline) }}
    {{ form_row(form.correctedPaperDeadline) }}
    {{ form_row(form.confirmationDeadline) }}
            
            {# Kalendarze do powy≈ºszych dat #}
        <script>
             window.onload = function(){
                 startCalendar = new JsDatePick({
                    useMode:2,
                    target:"conference_startDate",                                       
                    dateFormat:"%d-%m-%Y"
                 });
                 endCalendar = new JsDatePick({
                    useMode:2,
                    target:"conference_endDate",                                       
                    dateFormat:"%d-%m-%Y"
                 });
                 bookingstartDateCalendar = new JsDatePick({
                    useMode:2,
                    target:"conference_bookingstartDate",                                       
                    dateFormat:"%d-%m-%Y"
                 });
                 bookingendDateCalendar = new JsDatePick({
                    useMode:2,
                    target:"conference_bookingendDate",                                       
                    dateFormat:"%d-%m-%Y"
                 });
                 abstractDeadlineCalendar = new JsDatePick({
                    useMode:2,
                    target:"conference_abstractDeadline",                                       
                    dateFormat:"%d-%m-%Y"
                 });
                 paperDeadlineCalendar = new JsDatePick({
                    useMode:2,
                    target:"conference_paperDeadline",                                       
                    dateFormat:"%d-%m-%Y"
                 });
                 correctedPaperDeadlineCalendar = new JsDatePick({
                    useMode:2,
                    target:"conference_correctedPaperDeadline",                                       
                    dateFormat:"%d-%m-%Y"
                 });                 
                 confirmationDeadlineCalendar = new JsDatePick({
                    useMode:2,
                    target:"conference_confirmationDeadline",                                       
                    dateFormat:"%d-%m-%Y"
                 });
                 
                 
                 };
                 $(document).ready(function()
                 {   
                    var startDate = new Date({{conference.getStartDate|date('Y')}}, 
                       {{conference.getStartDate|date('m')}}-1, {{conference.getStartDate|date('d')}});
                    date = (startDate.getDate()) +'-'+(startDate.getMonth()+1)+'-'+startDate.getFullYear();
                    $('#conference_startDate').val(date);
                    
                    var endDate = new Date({{conference.getEndDate|date('Y')}}, 
                       {{conference.getEndDate|date('m')}}-1, {{conference.getEndDate|date('d')}});
                    date = (endDate.getDate()) +'-'+(endDate.getMonth()+1)+'-'+endDate.getFullYear();
                    $('#conference_endDate').val(date);
                    
                    var bookingstartDate = new Date({{conference.bookingstartDate|date('Y')}}, 
                       {{conference.bookingstartDate|date('m')}}-1, {{conference.bookingstartDate|date('d')}});
                    date = (bookingstartDate.getDate()) +'-'+(bookingstartDate.getMonth()+1)+'-'+bookingstartDate.getFullYear();
                    $('#conference_bookingstartDate').val(date);
                    
                    var bookingendDate = new Date({{conference.bookingendDate|date('Y')}}, 
                       {{conference.bookingendDate|date('m')}}-1, {{conference.bookingendDate|date('d')}});
                    date = (bookingendDate.getDate()) +'-'+(bookingendDate.getMonth()+1)+'-'+bookingendDate.getFullYear();
                    $('#conference_bookingendDate').val(date);
                      
                    var abstractDeadline = new Date({{conference.abstractDeadline|date('Y')}}, 
                       {{conference.abstractDeadline|date('m')}}-1, {{conference.abstractDeadline|date('d')}});
                    date = (abstractDeadline.getDate()) +'-'+(abstractDeadline.getMonth()+1)+'-'+abstractDeadline.getFullYear();
                    $('#conference_abstractDeadline').val(date);
                      
                    var paperDeadline = new Date({{conference.paperDeadline|date('Y')}}, 
                       {{conference.paperDeadline|date('m')}}-1, {{conference.paperDeadline|date('d')}});
                    date = (paperDeadline.getDate()) +'-'+(paperDeadline.getMonth()+1)+'-'+paperDeadline.getFullYear();
                    $('#conference_paperDeadline').val(date);
                      
                    var correctedPaperDeadline = new Date({{conference.correctedPaperDeadline|date('Y')}}, 
                       {{conference.correctedPaperDeadline|date('m')}}-1, {{conference.correctedPaperDeadline|date('d')}});
                    date = (correctedPaperDeadline.getDate()) +'-'+(correctedPaperDeadline.getMonth()+1)+'-'+correctedPaperDeadline.getFullYear();
                    $('#conference_correctedPaperDeadline').val(date);
                      
                    var confirmationDeadline = new Date({{conference.confirmationDeadline|date('Y')}}, 
                       {{conference.confirmationDeadline|date('m')}}-1, {{conference.confirmationDeadline|date('d')}});
                    date = (confirmationDeadline.getDate()) +'-'+(confirmationDeadline.getMonth()+1)+'-'+confirmationDeadline.getFullYear();
                    $('#conference_confirmationDeadline').val(date);
                      
                 });
            </script>
    {{ form_row(form.minPageSize) }}
    {{ form_row(form.paperPrice) }}
    {{ form_row(form.extrapagePrice) }}
    {{ form_row(form.containBook) }}

    {#<div id="BookPrice" hidden="true">#}
        {{ form_row(form.conferencebookPrice) }}
    {#</div>#}
    
    {{ form_row(form.conferencekitPrice) }}
    {{ form_row(form.fullParticipationPrice) }}
    {{ form_row(form.limitedParticipationPrice) }}
    {{ form_row(form.onedayPrice) }}    
    {{ form_row(form.demandAlldayPayment) }}
    {{ form_row(form.address) }}
    {{ form_row(form.city) }}
    {{ form_row(form.postalCode) }}
    {{ form_row(form.description) }}
    {{ form_row(form._token) }}
    
    <script type="text/javascript">
        $('#conference_containBook').change(function() {
            if (this.checked)
            {
                {#$('#BookPrice').removeAttr('hidden');#}
                $('#conference_conferencebookPrice').removeAttr('disabled');      
            }
            else 
            {
                {#$('#BookPrice').attr('hidden', 'true');#}
                $('#conference_conferencebookPrice').attr('disabled', 'disabled');
                                
            }

            });
        $(document).ready(function() {
            var $radios = $('input:checkbox[name=conference[containBook]]');
            if($radios.filter('[value=1]').is(':checked') === true)            
            {
                {# $('#BookPrice').removeAttr('hidden');#}
                $('#conference_conferencebookPrice').removeAttr('disabled');      
            }
            else 
            {
                {#$('#BookPrice').attr('hidden', 'true');#}
                $('#conference_conferencebookPrice').attr('disabled', 'disabled');
                                
            }

            });
        

    </script>
		
		<input type="submit" value="{% trans %}conf.edit.submit{% endtrans %}" />
	</form>	

{% endblock %}
