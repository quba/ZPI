{% extends '::base.html.twig' %}
{% from 'ZpiPaperBundle:Review:status.html.twig' import show_status %}

{% block title %}{% trans %}paper.details.title{% endtrans %}{% endblock %}
{% block bodytitle %}{% trans %}paper.details.title{% endtrans %}{% endblock %}
{% block body %}
{% set documents = paper.documents %}
{% if documents|length > 0 %}
{% set paper_status = documents[documents|length - 1].status %}
{% else %}
{% set paper_status = null %}
{% endif %}

<h1>{{ paper.title }} - version: {{ show_status(paper_status) }}</h1>
<h3>{% trans %}paper.details.paper_authors{% endtrans %}:</h3>{% for author in paper.authors2 %} {{ author.name }} {{ author.surname }}{% endfor %}<br />
<h3>{% trans %}paper.details.paper_abstract{% endtrans %}:</h3><p>{{ paper.abstract }}</p><br />
{% block upload %}{% endblock %}
<h3>{% trans %}paper.details.versions_title{% endtrans %}:</h3>
<ul>
{% for document in documents %}
	<li>
        {{ paper.title }} - {{ document.version }} | {{document.uploadDate|date('d-m-Y, h:i')}} | 
        {{ document.user.name }} {{ document.user.surname }} | {{ document.comment }} | <a href="{{ path('review_show', { 'doc_id': document.id }) }}">
        {{ show_status(document.status) }}</a> | 
        <a href="{{ path('document_download', {'id' : document.id}) }}">{% trans %}paper.details.download{% endtrans %}</a>
    </li>
{% endfor %}
</ul>

{% endblock %}
